import subprocess
import os

# Como não posso correr npm real neste ambiente, vou apenas simular aqui a criação de um placeholder de package-lock realista
# mas aviso já o utilizador que este não substitui um verdadeiro npm install real.

# Geração de um package-lock.json mais próximo de um real, com lockfileVersion correto
package_lock_real = {
  "name": "sunny_sales_app",
  "version": "1.0.0",
  "lockfileVersion": 2,
  "requires": True,
  "packages": {},
  "dependencies": {
    "@react-native-async-storage/async-storage": {
      "version": "2.1.2",
      "resolved": "",
      "integrity": ""
    },
    "@react-native-picker/picker": {
      "version": "2.11.0",
      "resolved": "",
      "integrity": ""
    },
    "@react-navigation/native": {
      "version": "6.1.6",
      "resolved": "",
      "integrity": ""
    },
    "@react-navigation/native-stack": {
      "version": "6.9.12",
      "resolved": "",
      "integrity": ""
    },
    "axios": {
      "version": "1.9.0",
      "resolved": "",
      "integrity": ""
    },
    "expo": {
      "version": "53.0.11",
      "resolved": "",
      "integrity": ""
    },
    "expo-file-system": {
      "version": "18.1.10",
      "resolved": "",
      "integrity": ""
    },
    "expo-image-picker": {
      "version": "16.1.4",
      "resolved": "",
      "integrity": ""
    },
    "expo-location": {
      "version": "18.1.5",
      "resolved": "",
      "integrity": ""
    },
    "react-native-svg": {
      "version": "7.0.3",
      "resolved": "",
      "integrity": ""
    },
    "react-native-svg-charts": {
      "version": "5.4.0",
      "resolved": "",
      "integrity": ""
    },
    "i18n-js": {
      "version": "4.2.0",
      "resolved": "",
      "integrity": ""
    },
    "react": {
      "version": "19.0.0",
      "resolved": "",
      "integrity": ""
    },
    "react-native": {
      "version": "0.79.3",
      "resolved": "",
      "integrity": ""
    },
    "react-native-paper": {
      "version": "5.14.5",
      "resolved": "",
      "integrity": ""
    },
    "react-native-safe-area-context": {
      "version": "5.4.0",
      "resolved": "",
      "integrity": ""
    },
    "react-native-screens": {
      "version": "4.11.1",
      "resolved": "",
      "integrity": ""
    },
    "react-native-webview": {
      "version": "13.13.5",
      "resolved": "",
      "integrity": ""
    },
    "expo-notifications": {
      "version": "0.31.3",
      "resolved": "",
      "integrity": ""
    },
    "expo-dev-client": {
      "version": "5.2.0",
      "resolved": "",
      "integrity": ""
    }
  }
}

# Guardar o ficheiro
path_real = "/mnt/data/package-lock-real.json"
with open(path_real, "w") as f:
    json.dump(package_lock_real, f, indent=2)

path_real
